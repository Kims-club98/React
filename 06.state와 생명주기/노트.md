## state 와 생명주기

### state란?
```js
const [books, setBooks] = React.useState([])//배열
const [count, setCount] = React.useState(0)//정수
const [좋아요, 좋아요설정] = React.useState(0)
const [책제목, 책제목설정] = React.useState("리액트정석")//문자열
const [책, 책설정] = React.useState({"제목":"자바의정석", "저자":"홍길동"})//객체
```

정의: 컴포넌트(함수 - arrow function -> rafce) 내부에서 관리되는 동적인 데이터임
  = 일반변수와 state의 차이
  언제 사용하는가?
    -> 화면에 표시되는 내용 중 변경될 수 있는 값은 state로 로 관리함
    -> 값이 바뀌면 recact가 다시 랜더링함.

### 왜 state 가 필요한가?
  - 사용자가 행동에 따라 UI가 바뀌는 경우
  - 내부 타이머 등으로 화면이 업데이트 되어야 할때
  - 폼 입력과 같이 실시간으로 변경이 필요한 경우

  ### 실습예제 - 현재 시각 표시하기
    매 초마다 다른 시간을 보여주기 위해 Sstate를 사용할 수 있다.

    -> 실행 흐름
    Clock 컴포넌트 마운트 -> setInterval 시작 -> 1초마다 steDate 실행 -> Clock컴포넌트 언마운트 -> return함수 자동 실행 -> clearInterval(timer) -> 완전종료

    ```js
   React.useEffect(() => {
    // componentDidMount역할(정리함수)
    // 역할: 컴포넌트가 사라질 때, React에 자동으로 실행한다.
    // 타이머 즉시 종료 => 메모리 정상 해제
    const timer = setInterval(() => {
      setDate(new Date())
    },1000)
    return () => {
      clearInterval(timer)
    }
   },[]) // 반 배열은 의존성 배열 (최초 1회만 실행)
    ```

    정리함수가 없는 경우
    컴포넌트가 사라져도 타이머는 계속 살아있음
    1초마다 계속 실행 됨
     cf) 언마운트 -> 이미 없는 컴포넌트(전자제품 전원을 끌 때)
     cf) 마운트 -> 컴포넌트의 출력(코드를 꽂고 전원을 켤 때)
    이미 없는 컴포넌트의 setState를 계속 시도함